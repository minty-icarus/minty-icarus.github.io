name: PR Preview
on:
pull_request:
branches:
- main

permissions:
contents: read

jobs:
build:
runs-on: ubuntu-latest
steps:
- name: Checkout
uses: actions/checkout@v4

- name: Setup Ruby
uses: ruby/setup-ruby@v1
with:
ruby-version: '3.2'
bundler-cache: true

- name: Install dependencies
run: bundle install

- name: Build site
run: bundle exec jekyll build --trace

- name: Upload _site artifact
uses: actions/upload-artifact@v4
with:
name: site-build
path: _site
if-no-files-found: error
